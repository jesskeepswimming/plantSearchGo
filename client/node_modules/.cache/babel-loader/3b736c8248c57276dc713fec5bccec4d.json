{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { withMap } from './context';\nvar triggerEvents = ['moveend', 'touchend', 'zoomend'];\nvar scales = [0.01, 0.02, 0.05, 0.1, 0.2, 0.5, 1, 2, 5, 10, 20, 50, 100, 200, 500, 1000, 2 * 1000, 5 * 1000, 10 * 1000];\nvar positions = {\n  'top-right': {\n    top: 10,\n    right: 10,\n    bottom: 'auto',\n    left: 'auto'\n  },\n  'top-left': {\n    top: 10,\n    left: 10,\n    bottom: 'auto',\n    right: 'auto'\n  },\n  'bottom-right': {\n    bottom: 10,\n    right: 10,\n    top: 'auto',\n    left: 'auto'\n  },\n  'bottom-left': {\n    bottom: 10,\n    left: 10,\n    top: 'auto',\n    right: 'auto'\n  }\n};\nvar containerStyle = {\n  position: 'absolute',\n  zIndex: 10,\n  boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n  border: '1px solid rgba(0, 0, 0, 0.1)',\n  right: 50,\n  backgroundColor: '#fff',\n  opacity: 0.85,\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'baseline',\n  padding: '3px 7px'\n};\nvar scaleStyle = {\n  border: '2px solid #7e8490',\n  boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n  borderTop: 'none',\n  height: 7,\n  borderBottomLeftRadius: 1,\n  borderBottomRightRadius: 1\n};\nvar POSITIONS = Object.keys(positions);\nvar MEASUREMENTS = ['km', 'mi'];\nvar MILE_IN_KILOMETERS = 1.60934;\nvar MILE_IN_FEET = 5280;\nvar KILOMETER_IN_METERS = 1000;\nvar MIN_WIDTH_SCALE = 60;\n\nvar ScaleControl = function (_super) {\n  __extends(ScaleControl, _super);\n\n  function ScaleControl() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      chosenScale: 0,\n      scaleWidth: MIN_WIDTH_SCALE\n    };\n\n    _this.setScale = function () {\n      var _a = _this.props,\n          measurement = _a.measurement,\n          map = _a.map;\n      var clientWidth = map._canvas.clientWidth;\n\n      var _b = map.getBounds(),\n          _ne = _b._ne,\n          _sw = _b._sw;\n\n      var totalWidth = _this._getDistanceTwoPoints([_sw.lng, _ne.lat], [_ne.lng, _ne.lat], measurement);\n\n      var relativeWidth = totalWidth / clientWidth * MIN_WIDTH_SCALE;\n      var chosenScale = scales.reduce(function (acc, curr) {\n        if (!acc && curr > relativeWidth) {\n          return curr;\n        }\n\n        return acc;\n      }, 0);\n      var scaleWidth = chosenScale / totalWidth * clientWidth;\n\n      _this.setState({\n        chosenScale: chosenScale,\n        scaleWidth: scaleWidth\n      });\n    };\n\n    return _this;\n  }\n\n  ScaleControl.prototype.componentDidMount = function () {\n    var _this = this;\n\n    this.setScale();\n    triggerEvents.forEach(function (event) {\n      _this.props.map.on(event, _this.setScale);\n    });\n  };\n\n  ScaleControl.prototype.componentWillUnmount = function () {\n    var _this = this;\n\n    if (this.props.map) {\n      triggerEvents.forEach(function (event) {\n        _this.props.map.off(event, _this.setScale);\n      });\n    }\n  };\n\n  ScaleControl.prototype._getDistanceTwoPoints = function (x, y, measurement) {\n    if (measurement === void 0) {\n      measurement = 'km';\n    }\n\n    var lng1 = x[0],\n        lat1 = x[1];\n    var lng2 = y[0],\n        lat2 = y[1];\n    var R = measurement === 'km' ? 6371 : 6371 / MILE_IN_KILOMETERS;\n\n    var dLat = this._deg2rad(lat2 - lat1);\n\n    var dLng = this._deg2rad(lng2 - lng1);\n\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(this._deg2rad(lat1)) * Math.cos(this._deg2rad(lat2)) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var d = R * c;\n    return d;\n  };\n\n  ScaleControl.prototype._deg2rad = function (deg) {\n    return deg * (Math.PI / 180);\n  };\n\n  ScaleControl.prototype._displayMeasurement = function (measurement, chosenScale) {\n    if (chosenScale >= 1) {\n      return chosenScale + \" \" + measurement;\n    }\n\n    if (measurement === 'mi') {\n      return Math.floor(chosenScale * MILE_IN_FEET) + \" ft\";\n    }\n\n    return Math.floor(chosenScale * KILOMETER_IN_METERS) + \" m\";\n  };\n\n  ScaleControl.prototype.render = function () {\n    var _a = this.props,\n        measurement = _a.measurement,\n        style = _a.style,\n        position = _a.position,\n        className = _a.className,\n        tabIndex = _a.tabIndex;\n    var _b = this.state,\n        chosenScale = _b.chosenScale,\n        scaleWidth = _b.scaleWidth;\n    return React.createElement(\"div\", {\n      tabIndex: tabIndex,\n      style: __assign({}, containerStyle, positions[position], style),\n      className: className\n    }, React.createElement(\"div\", {\n      style: __assign({}, scaleStyle, {\n        width: scaleWidth\n      })\n    }), React.createElement(\"div\", {\n      style: {\n        paddingLeft: 10\n      }\n    }, this._displayMeasurement(measurement, chosenScale)));\n  };\n\n  ScaleControl.defaultProps = {\n    measurement: MEASUREMENTS[0],\n    position: POSITIONS[2]\n  };\n  return ScaleControl;\n}(React.Component);\n\nexport { ScaleControl };\nexport default withMap(ScaleControl);","map":{"version":3,"sources":["../src/scale-control.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AAGA,SAAS,OAAT,QAAwB,WAAxB;AAEA,IAAM,aAAa,GAAG,CAAC,SAAD,EAAY,UAAZ,EAAwB,SAAxB,CAAtB;AAEA,IAAM,MAAM,GAAG,CACb,IADa,EAEb,IAFa,EAGb,IAHa,EAIb,GAJa,EAKb,GALa,EAMb,GANa,EAOb,CAPa,EAQb,CARa,EASb,CATa,EAUb,EAVa,EAWb,EAXa,EAYb,EAZa,EAab,GAba,EAcb,GAda,EAeb,GAfa,EAgBb,IAhBa,EAiBb,IAAI,IAjBS,EAkBb,IAAI,IAlBS,EAmBb,KAAK,IAnBQ,CAAf;AAsBA,IAAM,SAAS,GAAG;AAChB,eAAa;AAAE,IAAA,GAAG,EAAE,EAAP;AAAW,IAAA,KAAK,EAAE,EAAlB;AAAsB,IAAA,MAAM,EAAE,MAA9B;AAAsC,IAAA,IAAI,EAAE;AAA5C,GADG;AAEhB,cAAY;AAAE,IAAA,GAAG,EAAE,EAAP;AAAW,IAAA,IAAI,EAAE,EAAjB;AAAqB,IAAA,MAAM,EAAE,MAA7B;AAAqC,IAAA,KAAK,EAAE;AAA5C,GAFI;AAGhB,kBAAgB;AAAE,IAAA,MAAM,EAAE,EAAV;AAAc,IAAA,KAAK,EAAE,EAArB;AAAyB,IAAA,GAAG,EAAE,MAA9B;AAAsC,IAAA,IAAI,EAAE;AAA5C,GAHA;AAIhB,iBAAe;AAAE,IAAA,MAAM,EAAE,EAAV;AAAc,IAAA,IAAI,EAAE,EAApB;AAAwB,IAAA,GAAG,EAAE,MAA7B;AAAqC,IAAA,KAAK,EAAE;AAA5C;AAJC,CAAlB;AAOA,IAAM,cAAc,GAAwB;AAC1C,EAAA,QAAQ,EAAE,UADgC;AAE1C,EAAA,MAAM,EAAE,EAFkC;AAG1C,EAAA,SAAS,EAAE,+BAH+B;AAI1C,EAAA,MAAM,EAAE,8BAJkC;AAK1C,EAAA,KAAK,EAAE,EALmC;AAM1C,EAAA,eAAe,EAAE,MANyB;AAO1C,EAAA,OAAO,EAAE,IAPiC;AAQ1C,EAAA,OAAO,EAAE,MARiC;AAS1C,EAAA,aAAa,EAAE,KAT2B;AAU1C,EAAA,UAAU,EAAE,UAV8B;AAW1C,EAAA,OAAO,EAAE;AAXiC,CAA5C;AAcA,IAAM,UAAU,GAAG;AACjB,EAAA,MAAM,EAAE,mBADS;AAEjB,EAAA,SAAS,EAAE,+BAFM;AAGjB,EAAA,SAAS,EAAE,MAHM;AAIjB,EAAA,MAAM,EAAE,CAJS;AAKjB,EAAA,sBAAsB,EAAE,CALP;AAMjB,EAAA,uBAAuB,EAAE;AANR,CAAnB;AASA,IAAM,SAAS,GAAG,MAAM,CAAC,IAAP,CAAY,SAAZ,CAAlB;AACA,IAAM,YAAY,GAAG,CAAC,IAAD,EAAO,IAAP,CAArB;AAEA,IAAM,kBAAkB,GAAG,OAA3B;AACA,IAAM,YAAY,GAAG,IAArB;AACA,IAAM,mBAAmB,GAAG,IAA5B;AAEA,IAAM,eAAe,GAAG,EAAxB;;AAkBA,IAAA,YAAA,GAAA,UAAA,MAAA,EAAA;AAAkC,EAAA,SAAA,CAAA,YAAA,EAAA,MAAA,CAAA;;AAAlC,WAAA,YAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AAMS,IAAA,KAAA,CAAA,KAAA,GAAQ;AACb,MAAA,WAAW,EAAE,CADA;AAEb,MAAA,UAAU,EAAE;AAFC,KAAR;;AAqBC,IAAA,KAAA,CAAA,QAAA,GAAW,YAAA;AACX,UAAA,EAAA,GAAA,KAAA,CAAA,KAAA;AAAA,UAAE,WAAA,GAAA,EAAA,CAAA,WAAF;AAAA,UAAe,GAAA,GAAA,EAAA,CAAA,GAAf;AAGN,UAAM,WAAW,GAAI,GAAW,CAAC,OAAZ,CAAoB,WAAzC;;AAEM,UAAA,EAAA,GAAA,GAAA,CAAA,SAAA,EAAA;AAAA,UAAE,GAAA,GAAA,EAAA,CAAA,GAAF;AAAA,UAAO,GAAA,GAAA,EAAA,CAAA,GAAP;;AAEN,UAAM,UAAU,GAAG,KAAI,CAAC,qBAAL,CACjB,CAAC,GAAG,CAAC,GAAL,EAAU,GAAG,CAAC,GAAd,CADiB,EAEjB,CAAC,GAAG,CAAC,GAAL,EAAU,GAAG,CAAC,GAAd,CAFiB,EAGjB,WAHiB,CAAnB;;AAMA,UAAM,aAAa,GAAG,UAAU,GAAG,WAAb,GAA2B,eAAjD;AAEA,UAAM,WAAW,GAAG,MAAM,CAAC,MAAP,CAAc,UAAC,GAAD,EAAM,IAAN,EAAU;AAC1C,YAAI,CAAC,GAAD,IAAQ,IAAI,GAAG,aAAnB,EAAkC;AAChC,iBAAO,IAAP;AACD;;AAED,eAAO,GAAP;AACD,OANmB,EAMjB,CANiB,CAApB;AASA,UAAM,UAAU,GAAG,WAAW,GAAG,UAAd,GAA2B,WAA9C;;AAEA,MAAA,KAAI,CAAC,QAAL,CAAc;AACZ,QAAA,WAAW,EAAA,WADC;AAEZ,QAAA,UAAU,EAAA;AAFE,OAAd;AAID,KA/BO;;;AAsFT;;AAtGQ,EAAA,YAAA,CAAA,SAAA,CAAA,iBAAA,GAAP,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,SAAK,QAAL;AAEA,IAAA,aAAa,CAAC,OAAd,CAAsB,UAAA,KAAA,EAAK;AACzB,MAAA,KAAI,CAAC,KAAL,CAAW,GAAX,CAAe,EAAf,CAAkB,KAAlB,EAAyB,KAAI,CAAC,QAA9B;AACD,KAFD;AAGD,GANM;;AAQA,EAAA,YAAA,CAAA,SAAA,CAAA,oBAAA,GAAP,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,QAAI,KAAK,KAAL,CAAW,GAAf,EAAoB;AAClB,MAAA,aAAa,CAAC,OAAd,CAAsB,UAAA,KAAA,EAAK;AACzB,QAAA,KAAI,CAAC,KAAL,CAAW,GAAX,CAAe,GAAf,CAAmB,KAAnB,EAA0B,KAAI,CAAC,QAA/B;AACD,OAFD;AAGD;AACF,GANM;;AAyCC,EAAA,YAAA,CAAA,SAAA,CAAA,qBAAA,GAAR,UAA8B,CAA9B,EAA2C,CAA3C,EAAwD,WAAxD,EAA0E;AAAlB,QAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,WAAA,GAAA,IAAA;AAAkB;;AACjE,QAAA,IAAA,GAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAM,IAAA,GAAA,CAAA,CAAA,CAAA,CAAN;AACA,QAAA,IAAA,GAAA,CAAA,CAAA,CAAA,CAAA;AAAA,QAAM,IAAA,GAAA,CAAA,CAAA,CAAA,CAAN;AAGP,QAAM,CAAC,GAAG,WAAW,KAAK,IAAhB,GAAuB,IAAvB,GAA8B,OAAO,kBAA/C;;AACA,QAAM,IAAI,GAAG,KAAK,QAAL,CAAc,IAAI,GAAG,IAArB,CAAb;;AACA,QAAM,IAAI,GAAG,KAAK,QAAL,CAAc,IAAI,GAAG,IAArB,CAAb;;AACA,QAAM,CAAC,GACL,IAAI,CAAC,GAAL,CAAS,IAAI,GAAG,CAAhB,IAAqB,IAAI,CAAC,GAAL,CAAS,IAAI,GAAG,CAAhB,CAArB,GACA,IAAI,CAAC,GAAL,CAAS,KAAK,QAAL,CAAc,IAAd,CAAT,IACE,IAAI,CAAC,GAAL,CAAS,KAAK,QAAL,CAAc,IAAd,CAAT,CADF,GAEE,IAAI,CAAC,GAAL,CAAS,IAAI,GAAG,CAAhB,CAFF,GAGE,IAAI,CAAC,GAAL,CAAS,IAAI,GAAG,CAAhB,CALJ;AAMA,QAAM,CAAC,GAAG,IAAI,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,IAAL,CAAU,CAAV,CAAX,EAAyB,IAAI,CAAC,IAAL,CAAU,IAAI,CAAd,CAAzB,CAAd;AACA,QAAM,CAAC,GAAG,CAAC,GAAG,CAAd;AAEA,WAAO,CAAP;AACD,GAlBO;;AAoBA,EAAA,YAAA,CAAA,SAAA,CAAA,QAAA,GAAR,UAAiB,GAAjB,EAA4B;AAC1B,WAAO,GAAG,IAAI,IAAI,CAAC,EAAL,GAAU,GAAd,CAAV;AACD,GAFO;;AAIA,EAAA,YAAA,CAAA,SAAA,CAAA,mBAAA,GAAR,UAA4B,WAA5B,EAAsD,WAAtD,EAAyE;AACvE,QAAI,WAAW,IAAI,CAAnB,EAAsB;AACpB,aAAU,WAAW,GAAA,GAAX,GAAe,WAAzB;AACD;;AAED,QAAI,WAAW,KAAK,IAApB,EAA0B;AACxB,aAAU,IAAI,CAAC,KAAL,CAAW,WAAW,GAAG,YAAzB,IAAsC,KAAhD;AACD;;AAED,WAAU,IAAI,CAAC,KAAL,CAAW,WAAW,GAAG,mBAAzB,IAA6C,IAAvD;AACD,GAVO;;AAYD,EAAA,YAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACQ,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAE,WAAA,GAAA,EAAA,CAAA,WAAF;AAAA,QAAe,KAAA,GAAA,EAAA,CAAA,KAAf;AAAA,QAAsB,QAAA,GAAA,EAAA,CAAA,QAAtB;AAAA,QAAgC,SAAA,GAAA,EAAA,CAAA,SAAhC;AAAA,QAA2C,QAAA,GAAA,EAAA,CAAA,QAA3C;AACA,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAE,WAAA,GAAA,EAAA,CAAA,WAAF;AAAA,QAAe,UAAA,GAAA,EAAA,CAAA,UAAf;AAEN,WACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,MAAA,QAAQ,EAAE,QADZ;AAEE,MAAA,KAAK,EAAA,QAAA,CAAA,EAAA,EAAO,cAAP,EAA0B,SAAS,CAAC,QAAD,CAAnC,EAAmD,KAAnD,CAFP;AAGE,MAAA,SAAS,EAAE;AAHb,KAAA,EAKE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,KAAK,EAAA,QAAA,CAAA,EAAA,EAAO,UAAP,EAAiB;AAAE,QAAA,KAAK,EAAE;AAAT,OAAjB;AAAV,KAAA,CALF,EAME,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,KAAK,EAAE;AAAE,QAAA,WAAW,EAAE;AAAf;AAAZ,KAAA,EACG,KAAK,mBAAL,CAAyB,WAAzB,EAAuC,WAAvC,CADH,CANF,CADF;AAYD,GAhBM;;AA/FO,EAAA,YAAA,CAAA,YAAA,GAAe;AAC3B,IAAA,WAAW,EAAE,YAAY,CAAC,CAAD,CADE;AAE3B,IAAA,QAAQ,EAAE,SAAS,CAAC,CAAD;AAFQ,GAAf;AAgHhB,SAAA,YAAA;AAAC,CAjHD,CAAkC,KAAK,CAAC,SAAxC,CAAA;;SAAa,Y;AAmHb,eAAe,OAAO,CAAC,YAAD,CAAtB","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { withMap } from './context';\nvar triggerEvents = ['moveend', 'touchend', 'zoomend'];\nvar scales = [\n    0.01,\n    0.02,\n    0.05,\n    0.1,\n    0.2,\n    0.5,\n    1,\n    2,\n    5,\n    10,\n    20,\n    50,\n    100,\n    200,\n    500,\n    1000,\n    2 * 1000,\n    5 * 1000,\n    10 * 1000\n];\nvar positions = {\n    'top-right': { top: 10, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 10, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 10, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 10, left: 10, top: 'auto', right: 'auto' }\n};\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)',\n    right: 50,\n    backgroundColor: '#fff',\n    opacity: 0.85,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    padding: '3px 7px'\n};\nvar scaleStyle = {\n    border: '2px solid #7e8490',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    borderTop: 'none',\n    height: 7,\n    borderBottomLeftRadius: 1,\n    borderBottomRightRadius: 1\n};\nvar POSITIONS = Object.keys(positions);\nvar MEASUREMENTS = ['km', 'mi'];\nvar MILE_IN_KILOMETERS = 1.60934;\nvar MILE_IN_FEET = 5280;\nvar KILOMETER_IN_METERS = 1000;\nvar MIN_WIDTH_SCALE = 60;\nvar ScaleControl = (function (_super) {\n    __extends(ScaleControl, _super);\n    function ScaleControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            chosenScale: 0,\n            scaleWidth: MIN_WIDTH_SCALE\n        };\n        _this.setScale = function () {\n            var _a = _this.props, measurement = _a.measurement, map = _a.map;\n            var clientWidth = map._canvas.clientWidth;\n            var _b = map.getBounds(), _ne = _b._ne, _sw = _b._sw;\n            var totalWidth = _this._getDistanceTwoPoints([_sw.lng, _ne.lat], [_ne.lng, _ne.lat], measurement);\n            var relativeWidth = totalWidth / clientWidth * MIN_WIDTH_SCALE;\n            var chosenScale = scales.reduce(function (acc, curr) {\n                if (!acc && curr > relativeWidth) {\n                    return curr;\n                }\n                return acc;\n            }, 0);\n            var scaleWidth = chosenScale / totalWidth * clientWidth;\n            _this.setState({\n                chosenScale: chosenScale,\n                scaleWidth: scaleWidth\n            });\n        };\n        return _this;\n    }\n    ScaleControl.prototype.componentDidMount = function () {\n        var _this = this;\n        this.setScale();\n        triggerEvents.forEach(function (event) {\n            _this.props.map.on(event, _this.setScale);\n        });\n    };\n    ScaleControl.prototype.componentWillUnmount = function () {\n        var _this = this;\n        if (this.props.map) {\n            triggerEvents.forEach(function (event) {\n                _this.props.map.off(event, _this.setScale);\n            });\n        }\n    };\n    ScaleControl.prototype._getDistanceTwoPoints = function (x, y, measurement) {\n        if (measurement === void 0) { measurement = 'km'; }\n        var lng1 = x[0], lat1 = x[1];\n        var lng2 = y[0], lat2 = y[1];\n        var R = measurement === 'km' ? 6371 : 6371 / MILE_IN_KILOMETERS;\n        var dLat = this._deg2rad(lat2 - lat1);\n        var dLng = this._deg2rad(lng2 - lng1);\n        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos(this._deg2rad(lat1)) *\n                Math.cos(this._deg2rad(lat2)) *\n                Math.sin(dLng / 2) *\n                Math.sin(dLng / 2);\n        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        var d = R * c;\n        return d;\n    };\n    ScaleControl.prototype._deg2rad = function (deg) {\n        return deg * (Math.PI / 180);\n    };\n    ScaleControl.prototype._displayMeasurement = function (measurement, chosenScale) {\n        if (chosenScale >= 1) {\n            return chosenScale + \" \" + measurement;\n        }\n        if (measurement === 'mi') {\n            return Math.floor(chosenScale * MILE_IN_FEET) + \" ft\";\n        }\n        return Math.floor(chosenScale * KILOMETER_IN_METERS) + \" m\";\n    };\n    ScaleControl.prototype.render = function () {\n        var _a = this.props, measurement = _a.measurement, style = _a.style, position = _a.position, className = _a.className, tabIndex = _a.tabIndex;\n        var _b = this.state, chosenScale = _b.chosenScale, scaleWidth = _b.scaleWidth;\n        return (React.createElement(\"div\", { tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style), className: className },\n            React.createElement(\"div\", { style: __assign({}, scaleStyle, { width: scaleWidth }) }),\n            React.createElement(\"div\", { style: { paddingLeft: 10 } }, this._displayMeasurement(measurement, chosenScale))));\n    };\n    ScaleControl.defaultProps = {\n        measurement: MEASUREMENTS[0],\n        position: POSITIONS[2]\n    };\n    return ScaleControl;\n}(React.Component));\nexport { ScaleControl };\nexport default withMap(ScaleControl);\n//# sourceMappingURL=scale-control.js.map"]},"metadata":{},"sourceType":"module"}