{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexport var events = {\n  onResize: 'resize',\n  onDblClick: 'dblclick',\n  onClick: 'click',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMoveStart: 'movestart',\n  onMove: 'move',\n  onMoveEnd: 'moveend',\n  onMouseUp: 'mouseup',\n  onMouseDown: 'mousedown',\n  onDragStart: 'dragstart',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onZoomStart: 'zoomstart',\n  onZoom: 'zoom',\n  onZoomEnd: 'zoomend',\n  onPitch: 'pitch',\n  onPitchStart: 'pitchstart',\n  onPitchEnd: 'pitchend',\n  onWebGlContextLost: 'webglcontextlost',\n  onWebGlContextRestored: 'webglcontextrestored',\n  onRemove: 'remove',\n  onContextMenu: 'contextmenu',\n  onRender: 'render',\n  onError: 'error',\n  onSourceData: 'sourcedata',\n  onDataLoading: 'dataloading',\n  onStyleDataLoading: 'styledataloading',\n  onStyleImageMissing: 'styleimagemissing',\n  onTouchCancel: 'touchcancel',\n  onData: 'data',\n  onSourceDataLoading: 'sourcedataloading',\n  onTouchMove: 'touchmove',\n  onTouchEnd: 'touchend',\n  onTouchStart: 'touchstart',\n  onStyleData: 'styledata',\n  onBoxZoomStart: 'boxzoomstart',\n  onBoxZoomEnd: 'boxzoomend',\n  onBoxZoomCancel: 'boxzoomcancel',\n  onRotateStart: 'rotatestart',\n  onRotate: 'rotate',\n  onRotateEnd: 'rotateend'\n};\nexport var listenEvents = function (partialEvents, props, map) {\n  return Object.keys(partialEvents).reduce(function (listeners, event) {\n    var propEvent = props[event];\n\n    if (propEvent) {\n      var listener = function (evt) {\n        propEvent(map, evt);\n      };\n\n      map.on(partialEvents[event], listener);\n      listeners[event] = listener;\n    }\n\n    return listeners;\n  }, {});\n};\nexport var updateEvents = function (listeners, currentProps, map) {\n  var toListenOff = Object.keys(events).filter(function (eventKey) {\n    return listeners[eventKey] && typeof currentProps[eventKey] !== 'function';\n  });\n  toListenOff.forEach(function (key) {\n    map.off(events[key], listeners[key]);\n    delete listeners[key];\n  });\n  var toListenOn = Object.keys(events).filter(function (key) {\n    return !listeners[key] && typeof currentProps[key] === 'function';\n  }).reduce(function (acc, next) {\n    return acc[next] = events[next], acc;\n  }, {});\n  var newListeners = listenEvents(toListenOn, currentProps, map);\n  return __assign({}, listeners, newListeners);\n};","map":{"version":3,"sources":["../src/map-events.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var events = {\n    onResize: 'resize',\n    onDblClick: 'dblclick',\n    onClick: 'click',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMoveStart: 'movestart',\n    onMove: 'move',\n    onMoveEnd: 'moveend',\n    onMouseUp: 'mouseup',\n    onMouseDown: 'mousedown',\n    onDragStart: 'dragstart',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onZoomStart: 'zoomstart',\n    onZoom: 'zoom',\n    onZoomEnd: 'zoomend',\n    onPitch: 'pitch',\n    onPitchStart: 'pitchstart',\n    onPitchEnd: 'pitchend',\n    onWebGlContextLost: 'webglcontextlost',\n    onWebGlContextRestored: 'webglcontextrestored',\n    onRemove: 'remove',\n    onContextMenu: 'contextmenu',\n    onRender: 'render',\n    onError: 'error',\n    onSourceData: 'sourcedata',\n    onDataLoading: 'dataloading',\n    onStyleDataLoading: 'styledataloading',\n    onStyleImageMissing: 'styleimagemissing',\n    onTouchCancel: 'touchcancel',\n    onData: 'data',\n    onSourceDataLoading: 'sourcedataloading',\n    onTouchMove: 'touchmove',\n    onTouchEnd: 'touchend',\n    onTouchStart: 'touchstart',\n    onStyleData: 'styledata',\n    onBoxZoomStart: 'boxzoomstart',\n    onBoxZoomEnd: 'boxzoomend',\n    onBoxZoomCancel: 'boxzoomcancel',\n    onRotateStart: 'rotatestart',\n    onRotate: 'rotate',\n    onRotateEnd: 'rotateend'\n};\nexport var listenEvents = function (partialEvents, props, map) {\n    return Object.keys(partialEvents).reduce(function (listeners, event) {\n        var propEvent = props[event];\n        if (propEvent) {\n            var listener = function (evt) {\n                propEvent(map, evt);\n            };\n            map.on(partialEvents[event], listener);\n            listeners[event] = listener;\n        }\n        return listeners;\n    }, {});\n};\nexport var updateEvents = function (listeners, currentProps, map) {\n    var toListenOff = Object.keys(events).filter(function (eventKey) {\n        return listeners[eventKey] && typeof currentProps[eventKey] !== 'function';\n    });\n    toListenOff.forEach(function (key) {\n        map.off(events[key], listeners[key]);\n        delete listeners[key];\n    });\n    var toListenOn = Object.keys(events)\n        .filter(function (key) { return !listeners[key] && typeof currentProps[key] === 'function'; })\n        .reduce(function (acc, next) { return ((acc[next] = events[next]), acc); }, {});\n    var newListeners = listenEvents(toListenOn, currentProps, map);\n    return __assign({}, listeners, newListeners);\n};\n//# sourceMappingURL=map-events.js.map"]},"metadata":{},"sourceType":"module"}